# "set define off;" 사용하기

## 오늘 배운 점
- **대체 변수(Substitution Variable)** 기능은 SQL*Plus나 일부 클라이언트에서 "&" 기호 등을 만나면 자동으로 변수를 치환하려고 하는 기능입니다.
- 때때로 SQL 스크립트 내에 "&" 같은 문자가 포함되어 있을 때, 원치 않는 변수 치환이 발생할 수 있습니다.
- 이를 방지하려면 **"set define off;"**를 사용하여 대체 변수 기능을 **비활성화**할 수 있습니다.

## 왜 필요한가?
- **예제 상황:**  
  쿼리에서 문자 상수에 "&"가 포함되어 있으면 SQL*Plus는 이를 변수로 인식하여 값을 요청합니다.
  ```sql
  SELECT 'AT&T' FROM dual;
  ```
  위 쿼리를 실행하면, SQL*Plus는 `"T&T"`의 "&T" 부분을 변수로 인식해 값 입력을 요구할 수 있습니다.
- 이런 경우, **"set define off;"**를 실행하면 SQL*Plus가 변수 치환 없이 그대로 쿼리를 실행하게 됩니다.

## 어떻게 사용하는가?
- SQL 스크립트 또는 SQL*Plus 세션 상단에 다음 명령을 추가합니다:
  ```sql
  set define off;
  ```
- 이렇게 설정하면 이후 실행되는 쿼리에서는 & 기호에 의한 변수 치환이 발생하지 않습니다.

## 주의사항
- **비활성화 후:**  
  필요에 따라 다시 대체 변수 기능을 활성화하고 싶다면, `set define on;`을 사용하면 됩니다.
- **보안 및 스크립트 관리:**  
  - 스크립트에 민감한 값이나 치환이 필요 없는 리터럴이 포함되어 있을 경우, "set define off;"를 통해 예상치 못한 오류를 방지할 수 있습니다.
  - 다만, 일부 동적 스크립트에서는 의도적으로 변수를 치환할 필요가 있을 수 있으므로, 상황에 맞게 설정을 관리해야 합니다.

## 결론
오늘 깨달은 **"set define off;"** 명령어는 SQL*Plus에서 불필요한 변수 치환 문제를 해결하는 매우 유용한 도구입니다.  
이 명령어를 적절히 활용하여 쿼리 실행 시 불필요한 프롬프트나 오류를 방지하고, 스크립트가 의도한 대로 작동하도록 만들 수 있습니다.
